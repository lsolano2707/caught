<app-header></app-header>

<div class="container-fluid">

  <br>

  <!-- HEADER -->
  <div class="row">
    <div class="col-12">

      <div class="section-heading text-center" style="margin-bottom: 30px;">
        <h2 class="text-capitalize">Score - {{lessonName}}</h2>
        <!-- <a href="#" class="starburst2">
          <span><span><span>
             <br/>{{ finalScore }}
          </span></span></span>
       </a> -->
        <div class="line-shape"></div>
      </div>

    </div>
  </div>
  <!-- /HEADER -->

  <!-- SCORE -->
  <div class="row justify-content-md-center">
    <div class="col-md-2">

        <!-- <span class="badge badge-pill badge-purple">{{ finalScore | number : '1.2-2'}}</span> -->
        <!-- <span class="badge badge-pill badge-primary">{{ finalScore | number : '1.2-2'}}</span>
        <br> -->

      <div class="card text-center">
        <div class="card-header text-white background-purple mb-3" style="font-weight: bold; padding: 0.35rem 1.25rem;">
          <label style="margin-bottom: 0;">Total Questions: {{ score.countAnswer }}</label>
          <!-- <h3>Total Questions: {{ score.countAnswer }}</h3> -->
        </div>
        <div class="card-body" style="padding: 0;">

          <div class="row">
            <div class="col-6">
              <span class="icon-checkmark" style="color: green;"></span>
            </div>
            <div class="col-6">
              <span class="icon-cross" style="color: red;"></span>
            </div>
          </div>

          <div class="row">
            <div class="col-6">
              <label>{{ score.correctAnswers }}</label>
            </div>
            <div class="col-6">
              <label>{{ score.mistakes }}</label>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
  <!-- /SCORE -->
  
  <br>

  <!-- REPORT -->
  <div class="row justify-content-md-center">

    <div class="col-md-12 text-center">
      <button *ngIf="!showReport; else other_content_button_report" class="btn btn-red" (click)="showReport = !showReport">
        <span class="report-icon icon-folder"></span> Show report</button>
      <ng-template #other_content_button_report>
        <button class="btn btn-red" (click)="showReport = !showReport">
          <span class="report-icon icon-folder-open"></span> Hide report</button>
      </ng-template>
    </div>

    <br>
    <br>

    <div *ngIf="showReport; else other_content_showReport" class="col-md-6 text-center">

      <div class="row align-items-center">
        <table class="table text-center">
          <thead class="background-purple">
            <tr>
              <th>#</th>
              <th>QUESTION</th>
              <th>CORRECT ANSWER</th>
              <th colspan="2">ANSWER</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let question of score.questions">
              <td>{{ question.idQuestion }}</td>
              <td>{{ question.questionText }}</td>
              <td>{{ question.answerComplete }}</td>
              <td>{{ question.answerUserComplete }}</td>
              <td>
                <span *ngIf="question.check == 'CORRECT'; else other_content_correct_answer" class="icon-checkmark"
                  style="color: green;"></span>
                <ng-template #other_content_correct_answer>
                  <span class="icon-cross" style="color: red;"></span>
                </ng-template>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <ng-template #other_content_showReport>
      <!-- <br> -->
      <!-- <br> -->
    </ng-template>

    <!-- <br> -->
    <!-- <br>
    <br> -->

  </div>
  <!-- /REPORT -->

  <!-- FOOTER -->
  <!-- <br> -->
  <hr>
  <div class="row justify-content-md-center text-center">

    <div class="col-sm-12 col-md-2">
      <button class="btn btn-purple" (click)="changeOption('lesson')"><span class="icon-undo2"></span> Return lesson</button>
    </div>
    <div class="col-sm-12 col-md-2">
      <button class="btn btn-secondary" (click)="changeOption('exam')"><span class="icon-spinner11"></span> Repeat exam</button>
    </div>
    <div class="col-sm-12 col-md-2">
      <button class="btn btn-red" (click)="changeOption('config')"><span class="icon-writing"></span> New exam</button>
    </div>

  </div>
  <!-- /FOOTER -->


</div>
